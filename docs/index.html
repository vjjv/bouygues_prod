<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <title>Camera kit demo</title>
  <meta name="description" content="Camera kit demo">
  <meta name="robots" content="noindex">

  <link href="index.css" rel="stylesheet">
  <script src="./packed.js"></script>
</head>

<body>
  <!-- <div class="poweredbysnap-logo">
      <img id="image" src="./assets/Powered_bysnap.png" alt="Powered by Snap">
    </div> -->



  <canvas id="canvas"></canvas>
  <video id="video" style="display: none;" autoplay muted playsinline></video>

  <div id="card-container">
    <div id="card">
      <br><br><br>
      <div id="title">Félicitations !</div>
      <div class="message">Voues êtes le gagnant de otre jeu, vous remportez le smarthone de votre choix avec un an de
        forfait offer</div>
      <br><br>
      <div id="code">FFGB69685BG</div>
      <div id="mail">placeholder mail</div>
      <div class="message rdv">Rendez-vous :</div>
      <div id="button1" class="button-container message">
        <img class="button-img" src="assets/BOUTON 01.png" alt="">
        <div><u>En ligne</u></div>
        <div style="flex:1"></div>
      </div>
      <div id="button2" class="button-container message">
        <img class="button-img" src="assets/BOUTON 02.png" alt="">
        <div>Communiquez votre code à votre vendeur dans <u>votre boutique</u></div>
        <div style="flex:1"></div>
      </div>
      <br><br><br>
    </div>

  </div>

  <script>
    //detect if canvas is white
    var canvas;
    var ctx;
    var rgba;
    var out;
    setInterval(() => {
      canvas = document.querySelector('canvas');;
      ctx = canvas.getContext('webgl2');
      out = new Uint8Array(4);
      ctx.readPixels(0, 0, 1, 1, ctx.RGBA, ctx.UNSIGNED_BYTE, out);
      console.log('result');
      console.log(out);

      // if (rgba[0] == 255 && rgba[1] == 255 && rgba[2] == 255 && rgba[3] == 255) {
        // console.log('Canvas white detected! ')
      // } else { console.log('Canvas not white , ' + rgba[0] + rgba[1] + rgba[2] + rgba[3]) }
    }, 1000)

    
    // const gl2 = canvas.getContext('webgl2');

    // const out1 = new Uint8Array(4);
    // const out2 = new Uint8Array(4);
    // gl1.readPixels(0, 0, 1, 1, gl1.RGB, gl1.UNSIGNED_BYTE, out1);
    // gl2.readPixels(0, 0, 1, 1, gl2.RGBA, gl2.UNSIGNED_BYTE, out2);
    // console.log(out1);  // [  0, 0, 0,   0]
    // console.log(out2);  // [255, 0, 0, 255]
    // // end detect canvas white

  </script>

</body>

</html>